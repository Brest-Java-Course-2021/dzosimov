# **Библиотека**
## **Видение**
Требуется Web-приложение для работы с библиотекой. Необходима возможность
хранения данных книг и читателей библиотеки.
Приложение должно реализовывать следующие функции:
- отображение списка книг в каталоге;
- возможность добавления, редактирования, удаления, поиска книг;
- возможность выбрать пользователем (читателем) выбрать книги из списка 
  и добавить в свой профиль;
- отображение профиля пользователя (читателя) вместе со списком книг, 
  записанных в его читательский билет;
- возможность редактирования, удаления и регистрации пользователей;
- возможность удаления (возврата) книг из профиля в каталог библиотеки;
- возможность восстановления удаленного ранее пользователя;
- возможность входа в систему;
- наличие интернационализации системы.

Система предусматривает две сущности: читатель и книга.
## **1. Каталог**
### **1.1 Просмотр списка книг в каталоге**
Данный режим приложения предназначен для просмотра списка книг в 
библиотеке с отображением количества экземпляров каждой книги.
#### Основной сценарий
- пользователь выбирает пункт меню "Catalog";
- отображается список книг с перехода на страницу добавления книги и с 
  возможностью быстрого поиска по текущему каталогу, либо расширенного 
  поиска. 
  
В списке отображаются следующие колонки таблицы:
- Authors - авторы книги;
- Title - название книги;
- Genre - жанр книги;
- Quantity - количество экземпляров книги в библиотеке;
- Select - возможность добавить книгу в профиль;
- Edit - возможность редактировать книгу;
- Delete - возможность удалить книгу и все ее экземпляры.
  
![Pic 1.1](https://github.com/Brest-Java-Course-2021/dzosimov/blob/main/library/documentation/img/catalog.png)

Рисунок 1.1 - Просмотр списка книг в каталоге
### **1.2 Выбор книги для записи в профиль (читательский билет) пользователя**
#### Основной сценарий
- пользователь на странице каталога нажимает на кнопку `Select` на строчке соответствующей книги в каталоге;
- книга добавляется в профиль пользователя, если есть свободные экземпляры в библиотеке.

В случае добавления книга будет отображаться в профиле пользователя в списке книг.
### **1.3 Добавление книги в каталог**
Данный режим приложения необходим для добавления книги или экземпляра существующей уже в каталоге книги в библиотеку.
#### Основной сценарий
- пользователь, находясь на странице "Catalog", нажимает кнопку `Add a book`;
- отображается форма для добавления книги;

![Pic 1.2](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/html/img/add_a_book.png)

  Рисунок 1.2 - Форма добавления книги
- пользователь вводит данные и нажимает кнопку `Save`;
- если данные введены некорректно, отображается предупреждение о вводе некорректных данных;
- если данные корректны, то книга добавляется в базу данных библиотеки;
- отображается страница "каталог", на которой выводится сообщение о результатах добавления.

![Pic 1.3](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/result_m_aft_add_b.png)

Рисунок 1.3 - Сообщение о результатах добавления
### **1.4 Редактирование книги в каталоге**
Данный режим приложения необходим для редактирования данных книги/
#### Основной сценарий
- пользователь, находясь на странице "Catalog", нажимает кнопку `Edit` в строке книги, которую необходимо редактировать;
- отображается форма для редактирования книги;

![Pic 1.4](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/edit_the_book.png)

  Рисунок 1.4 - Форма редактирования книги
- пользователь вводит данные и нажимает кнопку `Save`;
- если данные введены некорректно, отображается предупреждение о вводе некорректных данных;
- если данные корректны, то сохраняются изменения в базу данных библиотеки;
- отображается страница "Catalog", на которой выводится сообщение о результатах редактирования.

### **1.5 Отмена сценариев редактирования и добавления книги в каталоге**
Данный режим приложения необходим для отмены редактирования данных или добавления новой книги.
#### Основной сценарий
- пользователь, находясь в форме для редактирования или добавления книги, нажимает кнопку `Cancel` (см.рис 1.2 и 1.4);
- отображается страница "Catalog".
### **1.6 Удаление книги в каталоге**
Данный режим приложения необходим для удаления книги из каталога библиотеки и всех его экземпляров.
#### Основной сценарий
- пользователь, находясь на странице "Catalog", нажимает кнопку `Delete` в строке книги, которую необходимо удалить;
- отображается предупреждающее окно об удалении книги;

![Pic 1.5](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/del_b.png)

  Рисунок 1.5 - Предупреждающее окно удаления книги
- если пользователь нажимает кнопку `Delete`, книга удаляется из базы данных библиотеки;
- отображается страница "Catalog", на которой выводится сообщение о результатах удаления.
- если пользователь нажимает на кнопку `Cancel` или закрывает окно, возвращается ранее открытая страница "Catalog".
### **1.7 Поиск книги по каталогу**
Данный режим приложения необходим для поиска книги из списка выведенных книг каталога библиотеки.
#### Основной сценарий
- пользователь, находясь на странице "Catalog", вводит ключевые слова в форме для поиска;
- отображается список книг отфильтрованный введенными ключевыми словами.

![Pic 1.6](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/filter.png)
 
  Рисунок 1.6 - Поиск книги
### **1.8 Расширенный поиск книги по каталогу**
Данный режим приложения необходим для поиска книги из каталога библиотеки.
#### Основной сценарий
- пользователь, находясь на странице "Catalog", нажимает "Advanced search";
- отображается форма поиска;
- пользователь вводит соответствующие данные и нажимает `Search`;
- если данные введены некорректно, отображается предупреждение о вводе некорректных данных;
- если данные введены корректно, отображается страница каталог с найденными книгами, если таковые имеются;

![Pic 1.7](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/adv_search.png)
 
  Рисунок 1.7 - Расширенный поиск книги
## **2. Пользователь**  
### **2.1 Просмотр профиля пользователя**
Данный режим приложения необходим для просмотра профиля пользователя.
#### Основной сценарий
- пользователь нажимает пункт меню "Profile";
- если пользователь не авторизован, то отображается страница авторизации "Login";
- если пользователь авторизован, то отображается страница "Profile";

На странице профиля выводятся информация пользователя, а также список книг записанных на читательский билет.  

 ![Pic 2.1](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/profile.png)
  
Рисунок 2.1 - Профиль пользователя   
### **2.2 Авторизация пользователя**
Данный режим приложения необходим для авторизации пользователя. Авторизация пользователя необходима для просмотра 
информации о пользователе, возможности редактирования, удаления пользователя, возможности просмотра, добавления и 
удаления книг пользователя.   
#### Основной сценарий
- пользователь нажимает пункт меню `Sign in`;
- отображается страница авторизации "Login";
- пользователь вводит читательский билет в форму и нажимает `Sign in`;
- если такой пользователь зарегистрирован, то отображается страница "каталог", где в пункте меню выводится информация 
  "Читательский билет №" и номер читательского билета;  
- если такой пользователь не зарегистрирован, пользователь не авторизуется и отображается страница "каталог";
- если такой пользователь зарегистрирован, но удален, то выводится информация "Пользователь удален. Восстановить?";

![Pic 2.2](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/login.png)
  
Рисунок 2.2 - Авторизация пользователя   
### **2.3 Регистрация пользователя**
Данный режим приложения необходим для регистрации нового пользователя.
#### Основной сценарий
- пользователь нажимает пункт меню `Registry`;
- отображается форма добавления пользователя;

![Pic 2.3](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/registry.png)

  Рисунок 2.3 - Регистрация пользователя
- пользователь вводит данные в форму и нажимает `Save`; 
- если данные введены некорректно, отображается предупреждение о вводе некорректных данных;
- если данные корректны, то пользователь сохраняется в базе данных библиотеки;
- в случае успешного добавления, пользователю присваивается номер читательского билета системой;  
- отображается страница "Catalog", на которой выводится сообщение о результатах добавления.
### **2.4 Восстановление пользователя**
Данный режим приложения необходим для восстановления ранее удаленного пользователя.
#### Основной сценарий
- пользователь нажимает пункт меню `Sign in`;
- отображается страница авторизации "Login";
- пользователь вводит читательский билет в форму и нажимает `Sign in`; 
- если такой пользователь зарегистрирован, но удален, то выводится информация "The reader is removed. Do restore?";  

![Pic 2.4](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/rst_l.png)

  Рисунок 2.4 - Восстановление пользователя
- пользователь нажимает кнопку `Restore`;
- отображается страница "Catalog", на которой выводится сообщение о результатах восстановления и номер читательского 
  билета.
### **2.5 Редактирование пользователя**
Данный режим приложения необходим для редактирования данных пользователя.
#### Основной сценарий
- пользователь, находясь на странице "профиль", нажимает кнопку `Edit`;
- отображается форма редактирования пользователя;

![Pic 2.5](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/edit_the_p.png)

  Рисунок 2.5 - Редактирование пользователя
- пользователь вводит данные в форму и нажимает `Save`;
- если данные введены некорректно, отображается предупреждение о вводе некорректных данных;
- если данные корректны, то изменения сохраняются в базе данных библиотеки;
- отображается страница "профиль", на которой выводится сообщение о результатах редактирования;
- в случае, когда пользователь находится в форме редактирования данных, нажимает кнопку `Cancel`, отображается страница 
  "профиля" без изменений.
### **2.6 Удаление пользователя**
Данный режим приложения необходим для удаления пользователя.
#### Основной сценарий
- пользователь, находясь на странице "профиль", нажимает кнопку `Delete`;
- отображается предупреждающее окно об удалении пользователя;

![Pic 2.6](https://raw.githubusercontent.com/Brest-Java-Course-2021/dzosimov/main/library/documentation/img/del_p.png)
 
  Рисунок 2.9 - Предупреждающее окно удаления пользователя
- если пользователь нажимает кнопку `Delete`, он удаляется из базы данных библиотеки;
- все книги этого пользователя возвращаются в каталог библиотеки;
- отображается страница "Catalog", на которой выводится сообщение о результатах удаления;
- если пользователь нажимает на кнопку `отмена` или закрывает окно, возвращается ранее открытая страница "Profile".
### **2.7 Удаление книги из списка книг пользователя**
Данный режим приложения необходим для удаления книги из списка книг пользователя.
#### Основной сценарий
- пользователь, находясь на странице "профиль", нажимает кнопку `Delete` в строке книги, которую необходимо удалить из
  списка книг пользователя;
- книга удаляется из списка книг пользователя;
- отображается страница "Profile";  
- отображается предупреждающее окно об удалении пользователя.
### **2.8 Выход из системы пользователя**
Данный режим приложения необходим для выхода из системы пользователя.
#### Основной сценарий
- пользователь выбирает пункт меню `Logout`;
- аннулируется сессия пользователя в системе;  
- отображается страница "Catalog".